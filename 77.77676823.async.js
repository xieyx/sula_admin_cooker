(window.webpackJsonp=window.webpackJsonp||[]).push([[77],{"4yiN":function(se,D,_){"use strict";_.r(D),_.d(D,"setupTypeScript",function(){return te}),_.d(D,"setupJavaScript",function(){return re}),_.d(D,"getJavaScriptWorker",function(){return ne}),_.d(D,"getTypeScriptWorker",function(){return ie});var d=_("v0SU"),W=function(t,r,e,s){function a(n){return n instanceof e?n:new e(function(o){o(n)})}return new(e||(e=Promise))(function(n,o){function l(u){try{i(s.next(u))}catch(c){o(c)}}function f(u){try{i(s.throw(u))}catch(c){o(c)}}function i(u){u.done?n(u.value):a(u.value).then(l,f)}i((s=s.apply(t,r||[])).next())})},V=function(t,r){var e={label:0,sent:function(){if(n[0]&1)throw n[1];return n[1]},trys:[],ops:[]},s,a,n,o;return o={next:l(0),throw:l(1),return:l(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function l(i){return function(u){return f([i,u])}}function f(i){if(s)throw new TypeError("Generator is already executing.");for(;e;)try{if(s=1,a&&(n=i[0]&2?a.return:i[0]?a.throw||((n=a.return)&&n.call(a),0):a.next)&&!(n=n.call(a,i[1])).done)return n;switch(a=0,n&&(i=[i[0]&2,n.value]),i[0]){case 0:case 1:n=i;break;case 4:return e.label++,{value:i[1],done:!1};case 5:e.label++,a=i[1],i=[0];continue;case 7:i=e.ops.pop(),e.trys.pop();continue;default:if(n=e.trys,!(n=n.length>0&&n[n.length-1])&&(i[0]===6||i[0]===2)){e=0;continue}if(i[0]===3&&(!n||i[1]>n[0]&&i[1]<n[3])){e.label=i[1];break}if(i[0]===6&&e.label<n[1]){e.label=n[1],n=i;break}if(n&&e.label<n[2]){e.label=n[2],e.ops.push(i);break}n[2]&&e.ops.pop(),e.trys.pop();continue}i=r.call(t,e)}catch(u){i=[6,u],a=0}finally{s=n=0}if(i[0]&5)throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}},j=function(){function t(r,e){var s=this;this._modeId=r,this._defaults=e,this._worker=null,this._client=null,this._configChangeListener=this._defaults.onDidChange(function(){return s._stopWorker()}),this._updateExtraLibsToken=0,this._extraLibsChangeListener=this._defaults.onDidExtraLibsChange(function(){return s._updateExtraLibs()})}return t.prototype._stopWorker=function(){this._worker&&(this._worker.dispose(),this._worker=null),this._client=null},t.prototype.dispose=function(){this._configChangeListener.dispose(),this._extraLibsChangeListener.dispose(),this._stopWorker()},t.prototype._updateExtraLibs=function(){return W(this,void 0,void 0,function(){var r,e;return V(this,function(s){switch(s.label){case 0:return this._worker?(r=++this._updateExtraLibsToken,[4,this._worker.getProxy()]):[2];case 1:return e=s.sent(),this._updateExtraLibsToken!==r?[2]:(e.updateExtraLibs(this._defaults.getExtraLibs()),[2])}})})},t.prototype._getClient=function(){var r=this;if(!this._client){this._worker=d.editor.createWebWorker({moduleId:"vs/language/typescript/tsWorker",label:this._modeId,keepIdleModels:!0,createData:{compilerOptions:this._defaults.getCompilerOptions(),extraLibs:this._defaults.getExtraLibs(),customWorkerPath:this._defaults.workerOptions.customWorkerPath}});var e=this._worker.getProxy();this._defaults.getEagerModelSync()&&(e=e.then(function(s){return r._worker?r._worker.withSyncedResources(d.editor.getModels().filter(function(a){return a.getModeId()===r._modeId}).map(function(a){return a.uri})):s})),this._client=e}return this._client},t.prototype.getLanguageServiceWorker=function(){for(var r=this,e=[],s=0;s<arguments.length;s++)e[s]=arguments[s];var a;return this._getClient().then(function(n){a=n}).then(function(n){if(r._worker)return r._worker.withSyncedResources(e)}).then(function(n){return a})},t}(),p={};p["lib.d.ts"]=!0,p["lib.dom.d.ts"]=!0,p["lib.dom.iterable.d.ts"]=!0,p["lib.es2015.collection.d.ts"]=!0,p["lib.es2015.core.d.ts"]=!0,p["lib.es2015.d.ts"]=!0,p["lib.es2015.generator.d.ts"]=!0,p["lib.es2015.iterable.d.ts"]=!0,p["lib.es2015.promise.d.ts"]=!0,p["lib.es2015.proxy.d.ts"]=!0,p["lib.es2015.reflect.d.ts"]=!0,p["lib.es2015.symbol.d.ts"]=!0,p["lib.es2015.symbol.wellknown.d.ts"]=!0,p["lib.es2016.array.include.d.ts"]=!0,p["lib.es2016.d.ts"]=!0,p["lib.es2016.full.d.ts"]=!0,p["lib.es2017.d.ts"]=!0,p["lib.es2017.full.d.ts"]=!0,p["lib.es2017.intl.d.ts"]=!0,p["lib.es2017.object.d.ts"]=!0,p["lib.es2017.sharedmemory.d.ts"]=!0,p["lib.es2017.string.d.ts"]=!0,p["lib.es2017.typedarrays.d.ts"]=!0,p["lib.es2018.asyncgenerator.d.ts"]=!0,p["lib.es2018.asynciterable.d.ts"]=!0,p["lib.es2018.d.ts"]=!0,p["lib.es2018.full.d.ts"]=!0,p["lib.es2018.intl.d.ts"]=!0,p["lib.es2018.promise.d.ts"]=!0,p["lib.es2018.regexp.d.ts"]=!0,p["lib.es2019.array.d.ts"]=!0,p["lib.es2019.d.ts"]=!0,p["lib.es2019.full.d.ts"]=!0,p["lib.es2019.object.d.ts"]=!0,p["lib.es2019.string.d.ts"]=!0,p["lib.es2019.symbol.d.ts"]=!0,p["lib.es2020.bigint.d.ts"]=!0,p["lib.es2020.d.ts"]=!0,p["lib.es2020.full.d.ts"]=!0,p["lib.es2020.intl.d.ts"]=!0,p["lib.es2020.promise.d.ts"]=!0,p["lib.es2020.string.d.ts"]=!0,p["lib.es2020.symbol.wellknown.d.ts"]=!0,p["lib.es5.d.ts"]=!0,p["lib.es6.d.ts"]=!0,p["lib.esnext.d.ts"]=!0,p["lib.esnext.full.d.ts"]=!0,p["lib.esnext.intl.d.ts"]=!0,p["lib.esnext.promise.d.ts"]=!0,p["lib.esnext.string.d.ts"]=!0,p["lib.scripthost.d.ts"]=!0,p["lib.webworker.d.ts"]=!0,p["lib.webworker.importscripts.d.ts"]=!0;var x=function(){var t=function(e,s){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,n){a.__proto__=n}||function(a,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(a[o]=n[o])},t(e,s)};return function(r,e){t(r,e);function s(){this.constructor=r}r.prototype=e===null?Object.create(e):(s.prototype=e.prototype,new s)}}(),w=function(t,r,e,s){function a(n){return n instanceof e?n:new e(function(o){o(n)})}return new(e||(e=Promise))(function(n,o){function l(u){try{i(s.next(u))}catch(c){o(c)}}function f(u){try{i(s.throw(u))}catch(c){o(c)}}function i(u){u.done?n(u.value):a(u.value).then(l,f)}i((s=s.apply(t,r||[])).next())})},k=function(t,r){var e={label:0,sent:function(){if(n[0]&1)throw n[1];return n[1]},trys:[],ops:[]},s,a,n,o;return o={next:l(0),throw:l(1),return:l(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function l(i){return function(u){return f([i,u])}}function f(i){if(s)throw new TypeError("Generator is already executing.");for(;e;)try{if(s=1,a&&(n=i[0]&2?a.return:i[0]?a.throw||((n=a.return)&&n.call(a),0):a.next)&&!(n=n.call(a,i[1])).done)return n;switch(a=0,n&&(i=[i[0]&2,n.value]),i[0]){case 0:case 1:n=i;break;case 4:return e.label++,{value:i[1],done:!1};case 5:e.label++,a=i[1],i=[0];continue;case 7:i=e.ops.pop(),e.trys.pop();continue;default:if(n=e.trys,!(n=n.length>0&&n[n.length-1])&&(i[0]===6||i[0]===2)){e=0;continue}if(i[0]===3&&(!n||i[1]>n[0]&&i[1]<n[3])){e.label=i[1];break}if(i[0]===6&&e.label<n[1]){e.label=n[1],n=i;break}if(n&&e.label<n[2]){e.label=n[2],e.ops.push(i);break}n[2]&&e.ops.pop(),e.trys.pop();continue}i=r.call(t,e)}catch(u){i=[6,u],a=0}finally{s=n=0}if(i[0]&5)throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}},N;(function(t){t[t.None=0]="None",t[t.Block=1]="Block",t[t.Smart=2]="Smart"})(N||(N={}));function P(t,r,e){if(e===void 0&&(e=0),typeof t=="string")return t;if(t===void 0)return"";var s="";if(e){s+=r;for(var a=0;a<e;a++)s+="  "}if(s+=t.messageText,e++,t.next)for(var n=0,o=t.next;n<o.length;n++){var l=o[n];s+=P(l,r,e)}return s}function F(t){return t?t.map(function(r){return r.text}).join(""):""}var C=function(){function t(r){this._worker=r}return t.prototype._textSpanToRange=function(r,e){var s=r.getPositionAt(e.start),a=r.getPositionAt(e.start+e.length),n=s.lineNumber,o=s.column,l=a.lineNumber,f=a.column;return{startLineNumber:n,startColumn:o,endLineNumber:l,endColumn:f}},t}(),H=function(){function t(r){this._worker=r,this._libFiles={},this._hasFetchedLibFiles=!1,this._fetchLibFilesPromise=null}return t.prototype.isLibFile=function(r){return r&&r.path.indexOf("/lib.")===0?!!p[r.path.slice(1)]:!1},t.prototype.getOrCreateModel=function(r){var e=d.editor.getModel(r);return e||(this.isLibFile(r)&&this._hasFetchedLibFiles?d.editor.createModel(this._libFiles[r.path.slice(1)],"javascript",r):null)},t.prototype._containsLibFile=function(r){for(var e=0,s=r;e<s.length;e++){var a=s[e];if(this.isLibFile(a))return!0}return!1},t.prototype.fetchLibFilesIfNecessary=function(r){return w(this,void 0,void 0,function(){return k(this,function(e){switch(e.label){case 0:return this._containsLibFile(r)?[4,this._fetchLibFiles()]:[2];case 1:return e.sent(),[2]}})})},t.prototype._fetchLibFiles=function(){var r=this;return this._fetchLibFilesPromise||(this._fetchLibFilesPromise=this._worker().then(function(e){return e.getLibFiles()}).then(function(e){r._hasFetchedLibFiles=!0,r._libFiles=e})),this._fetchLibFilesPromise},t}(),L;(function(t){t[t.Warning=0]="Warning",t[t.Error=1]="Error",t[t.Suggestion=2]="Suggestion",t[t.Message=3]="Message"})(L||(L={}));var B=function(t){x(r,t);function r(e,s,a,n){var o=t.call(this,n)||this;o._libFiles=e,o._defaults=s,o._selector=a,o._disposables=[],o._listener=Object.create(null);var l=function(c){if(c.getModeId()===a){var g,h=c.onDidChangeContent(function(){clearTimeout(g),g=setTimeout(function(){return o._doValidate(c)},500)});o._listener[c.uri.toString()]={dispose:function(){h.dispose(),clearTimeout(g)}},o._doValidate(c)}},f=function(c){d.editor.setModelMarkers(c,o._selector,[]);var g=c.uri.toString();o._listener[g]&&(o._listener[g].dispose(),delete o._listener[g])};o._disposables.push(d.editor.onDidCreateModel(l)),o._disposables.push(d.editor.onWillDisposeModel(f)),o._disposables.push(d.editor.onDidChangeModelLanguage(function(u){f(u.model),l(u.model)})),o._disposables.push({dispose:function(){for(var c=0,g=d.editor.getModels();c<g.length;c++){var h=g[c];f(h)}}});var i=function(){for(var c=0,g=d.editor.getModels();c<g.length;c++){var h=g[c];f(h),l(h)}};return o._disposables.push(o._defaults.onDidChange(i)),o._disposables.push(o._defaults.onDidExtraLibsChange(i)),d.editor.getModels().forEach(l),o}return r.prototype.dispose=function(){this._disposables.forEach(function(e){return e&&e.dispose()}),this._disposables=[]},r.prototype._doValidate=function(e){return w(this,void 0,void 0,function(){var s,a,n,o,l,f,i,u,c,g=this;return k(this,function(h){switch(h.label){case 0:return[4,this._worker(e.uri)];case 1:return s=h.sent(),e.isDisposed()?[2]:(a=[],n=this._defaults.getDiagnosticsOptions(),o=n.noSyntaxValidation,l=n.noSemanticValidation,f=n.noSuggestionDiagnostics,o||a.push(s.getSyntacticDiagnostics(e.uri.toString())),l||a.push(s.getSemanticDiagnostics(e.uri.toString())),f||a.push(s.getSuggestionDiagnostics(e.uri.toString())),[4,Promise.all(a)]);case 2:return i=h.sent(),!i||e.isDisposed()?[2]:(u=i.reduce(function(m,y){return y.concat(m)},[]).filter(function(m){return(g._defaults.getDiagnosticsOptions().diagnosticCodesToIgnore||[]).indexOf(m.code)===-1}),c=u.map(function(m){return m.relatedInformation||[]}).reduce(function(m,y){return y.concat(m)},[]).map(function(m){return m.file?d.Uri.parse(m.file.fileName):null}),[4,this._libFiles.fetchLibFilesIfNecessary(c)]);case 3:return h.sent(),e.isDisposed()?[2]:(d.editor.setModelMarkers(e,this._selector,u.map(function(m){return g._convertDiagnostics(e,m)})),[2])}})})},r.prototype._convertDiagnostics=function(e,s){var a=s.start||0,n=s.length||1,o=e.getPositionAt(a),l=o.lineNumber,f=o.column,i=e.getPositionAt(a+n),u=i.lineNumber,c=i.column,g=[];return s.reportsUnnecessary&&g.push(d.MarkerTag.Unnecessary),s.reportsDeprecated&&g.push(d.MarkerTag.Deprecated),{severity:this._tsDiagnosticCategoryToMarkerSeverity(s.category),startLineNumber:l,startColumn:f,endLineNumber:u,endColumn:c,message:P(s.messageText,`
`),code:s.code.toString(),tags:g,relatedInformation:this._convertRelatedInformation(e,s.relatedInformation)}},r.prototype._convertRelatedInformation=function(e,s){var a=this;if(!!s){var n=[];return s.forEach(function(o){var l=e;if(o.file){var f=d.Uri.parse(o.file.fileName);l=a._libFiles.getOrCreateModel(f)}if(!!l){var i=o.start||0,u=o.length||1,c=l.getPositionAt(i),g=c.lineNumber,h=c.column,m=l.getPositionAt(i+u),y=m.lineNumber,b=m.column;n.push({resource:l.uri,startLineNumber:g,startColumn:h,endLineNumber:y,endColumn:b,message:P(o.messageText,`
`)})}}),n}},r.prototype._tsDiagnosticCategoryToMarkerSeverity=function(e){switch(e){case L.Error:return d.MarkerSeverity.Error;case L.Message:return d.MarkerSeverity.Info;case L.Warning:return d.MarkerSeverity.Warning;case L.Suggestion:return d.MarkerSeverity.Hint}return d.MarkerSeverity.Info},r}(C),U=function(t){x(r,t);function r(){return t!==null&&t.apply(this,arguments)||this}return Object.defineProperty(r.prototype,"triggerCharacters",{get:function(){return["."]},enumerable:!1,configurable:!0}),r.prototype.provideCompletionItems=function(e,s,a,n){return w(this,void 0,void 0,function(){var o,l,f,i,u,c,g;return k(this,function(h){switch(h.label){case 0:return o=e.getWordUntilPosition(s),l=new d.Range(s.lineNumber,o.startColumn,s.lineNumber,o.endColumn),f=e.uri,i=e.getOffsetAt(s),[4,this._worker(f)];case 1:return u=h.sent(),[4,u.getCompletionsAtPosition(f.toString(),i)];case 2:return c=h.sent(),!c||e.isDisposed()?[2]:(g=c.entries.map(function(m){var y,b=l;if(m.replacementSpan){var A=e.getPositionAt(m.replacementSpan.start),O=e.getPositionAt(m.replacementSpan.start+m.replacementSpan.length);b=new d.Range(A.lineNumber,A.column,O.lineNumber,O.column)}var E=[];return((y=m.kindModifiers)===null||y===void 0?void 0:y.indexOf("deprecated"))!==-1&&E.push(d.languages.CompletionItemTag.Deprecated),{uri:f,position:s,offset:i,range:b,label:m.name,insertText:m.name,sortText:m.sortText,kind:r.convertKind(m.kind),tags:E}}),[2,{suggestions:g}])}})})},r.prototype.resolveCompletionItem=function(e,s){return w(this,void 0,void 0,function(){var a,n,o,l,f,i;return k(this,function(u){switch(u.label){case 0:return a=e,n=a.uri,o=a.position,l=a.offset,[4,this._worker(n)];case 1:return f=u.sent(),[4,f.getCompletionEntryDetails(n.toString(),l,a.label)];case 2:return i=u.sent(),i?[2,{uri:n,position:o,label:i.name,kind:r.convertKind(i.kind),detail:F(i.displayParts),documentation:{value:r.createDocumentationString(i)}}]:[2,a]}})})},r.convertKind=function(e){switch(e){case v.primitiveType:case v.keyword:return d.languages.CompletionItemKind.Keyword;case v.variable:case v.localVariable:return d.languages.CompletionItemKind.Variable;case v.memberVariable:case v.memberGetAccessor:case v.memberSetAccessor:return d.languages.CompletionItemKind.Field;case v.function:case v.memberFunction:case v.constructSignature:case v.callSignature:case v.indexSignature:return d.languages.CompletionItemKind.Function;case v.enum:return d.languages.CompletionItemKind.Enum;case v.module:return d.languages.CompletionItemKind.Module;case v.class:return d.languages.CompletionItemKind.Class;case v.interface:return d.languages.CompletionItemKind.Interface;case v.warning:return d.languages.CompletionItemKind.File}return d.languages.CompletionItemKind.Property},r.createDocumentationString=function(e){var s=F(e.documentation);if(e.tags)for(var a=0,n=e.tags;a<n.length;a++){var o=n[a];s+=`

`+R(o)}return s},r}(C);function R(t){var r="*@"+t.name+"*";if(t.name==="param"&&t.text){var e=t.text.split(" "),s=e[0],a=e.slice(1);r+="`"+s+"`",a.length>0&&(r+=" \u2014 "+a.join(" "))}else t.text&&(r+=" \u2014 "+t.text);return r}var J=function(t){x(r,t);function r(){var e=t!==null&&t.apply(this,arguments)||this;return e.signatureHelpTriggerCharacters=["(",","],e}return r.prototype.provideSignatureHelp=function(e,s,a){return w(this,void 0,void 0,function(){var n,o,l,f,i;return k(this,function(u){switch(u.label){case 0:return n=e.uri,o=e.getOffsetAt(s),[4,this._worker(n)];case 1:return l=u.sent(),[4,l.getSignatureHelpItems(n.toString(),o)];case 2:return f=u.sent(),!f||e.isDisposed()?[2]:(i={activeSignature:f.selectedItemIndex,activeParameter:f.argumentIndex,signatures:[]},f.items.forEach(function(c){var g={label:"",parameters:[]};g.documentation={value:F(c.documentation)},g.label+=F(c.prefixDisplayParts),c.parameters.forEach(function(h,m,y){var b=F(h.displayParts),A={label:b,documentation:{value:F(h.documentation)}};g.label+=b,g.parameters.push(A),m<y.length-1&&(g.label+=F(c.separatorDisplayParts))}),g.label+=F(c.suffixDisplayParts),i.signatures.push(g)}),[2,{value:i,dispose:function(){}}])}})})},r}(C),z=function(t){x(r,t);function r(){return t!==null&&t.apply(this,arguments)||this}return r.prototype.provideHover=function(e,s,a){return w(this,void 0,void 0,function(){var n,o,l,f,i,u,c;return k(this,function(g){switch(g.label){case 0:return n=e.uri,o=e.getOffsetAt(s),[4,this._worker(n)];case 1:return l=g.sent(),[4,l.getQuickInfoAtPosition(n.toString(),o)];case 2:return f=g.sent(),!f||e.isDisposed()?[2]:(i=F(f.documentation),u=f.tags?f.tags.map(function(h){return R(h)}).join(`  

`):"",c=F(f.displayParts),[2,{range:this._textSpanToRange(e,f.textSpan),contents:[{value:"```typescript\n"+c+"\n```\n"},{value:i+(u?`

`+u:"")}]}])}})})},r}(C),G=function(t){x(r,t);function r(){return t!==null&&t.apply(this,arguments)||this}return r.prototype.provideDocumentHighlights=function(e,s,a){return w(this,void 0,void 0,function(){var n,o,l,f,i=this;return k(this,function(u){switch(u.label){case 0:return n=e.uri,o=e.getOffsetAt(s),[4,this._worker(n)];case 1:return l=u.sent(),[4,l.getOccurrencesAtPosition(n.toString(),o)];case 2:return f=u.sent(),!f||e.isDisposed()?[2]:[2,f.map(function(c){return{range:i._textSpanToRange(e,c.textSpan),kind:c.isWriteAccess?d.languages.DocumentHighlightKind.Write:d.languages.DocumentHighlightKind.Text}})]}})})},r}(C),Q=function(t){x(r,t);function r(e,s){var a=t.call(this,s)||this;return a._libFiles=e,a}return r.prototype.provideDefinition=function(e,s,a){return w(this,void 0,void 0,function(){var n,o,l,f,i,u,c,g,h,m;return k(this,function(y){switch(y.label){case 0:return n=e.uri,o=e.getOffsetAt(s),[4,this._worker(n)];case 1:return l=y.sent(),[4,l.getDefinitionAtPosition(n.toString(),o)];case 2:return f=y.sent(),!f||e.isDisposed()?[2]:[4,this._libFiles.fetchLibFilesIfNecessary(f.map(function(b){return d.Uri.parse(b.fileName)}))];case 3:if(y.sent(),e.isDisposed())return[2];for(i=[],u=0,c=f;u<c.length;u++)g=c[u],h=d.Uri.parse(g.fileName),m=this._libFiles.getOrCreateModel(h),m&&i.push({uri:h,range:this._textSpanToRange(m,g.textSpan)});return[2,i]}})})},r}(C),X=function(t){x(r,t);function r(e,s){var a=t.call(this,s)||this;return a._libFiles=e,a}return r.prototype.provideReferences=function(e,s,a,n){return w(this,void 0,void 0,function(){var o,l,f,i,u,c,g,h,m,y;return k(this,function(b){switch(b.label){case 0:return o=e.uri,l=e.getOffsetAt(s),[4,this._worker(o)];case 1:return f=b.sent(),[4,f.getReferencesAtPosition(o.toString(),l)];case 2:return i=b.sent(),!i||e.isDisposed()?[2]:[4,this._libFiles.fetchLibFilesIfNecessary(i.map(function(A){return d.Uri.parse(A.fileName)}))];case 3:if(b.sent(),e.isDisposed())return[2];for(u=[],c=0,g=i;c<g.length;c++)h=g[c],m=d.Uri.parse(h.fileName),y=this._libFiles.getOrCreateModel(m),y&&u.push({uri:m,range:this._textSpanToRange(y,h.textSpan)});return[2,u]}})})},r}(C),Y=function(t){x(r,t);function r(){return t!==null&&t.apply(this,arguments)||this}return r.prototype.provideDocumentSymbols=function(e,s){return w(this,void 0,void 0,function(){var a,n,o,l,f,i=this;return k(this,function(u){switch(u.label){case 0:return a=e.uri,[4,this._worker(a)];case 1:return n=u.sent(),[4,n.getNavigationBarItems(a.toString())];case 2:return o=u.sent(),!o||e.isDisposed()?[2]:(l=function(g,h,m){var y={name:h.text,detail:"",kind:S[h.kind]||d.languages.SymbolKind.Variable,range:i._textSpanToRange(e,h.spans[0]),selectionRange:i._textSpanToRange(e,h.spans[0]),tags:[],containerName:m};if(h.childItems&&h.childItems.length>0)for(var b=0,A=h.childItems;b<A.length;b++){var O=A[b];l(g,O,y.name)}g.push(y)},f=[],o.forEach(function(c){return l(f,c)}),[2,f])}})})},r}(C),v=function(){function t(){}return t.unknown="",t.keyword="keyword",t.script="script",t.module="module",t.class="class",t.interface="interface",t.type="type",t.enum="enum",t.variable="var",t.localVariable="local var",t.function="function",t.localFunction="local function",t.memberFunction="method",t.memberGetAccessor="getter",t.memberSetAccessor="setter",t.memberVariable="property",t.constructorImplementation="constructor",t.callSignature="call",t.indexSignature="index",t.constructSignature="construct",t.parameter="parameter",t.typeParameter="type parameter",t.primitiveType="primitive type",t.label="label",t.alias="alias",t.const="const",t.let="let",t.warning="warning",t}(),S=Object.create(null);S[v.module]=d.languages.SymbolKind.Module,S[v.class]=d.languages.SymbolKind.Class,S[v.enum]=d.languages.SymbolKind.Enum,S[v.interface]=d.languages.SymbolKind.Interface,S[v.memberFunction]=d.languages.SymbolKind.Method,S[v.memberVariable]=d.languages.SymbolKind.Property,S[v.memberGetAccessor]=d.languages.SymbolKind.Property,S[v.memberSetAccessor]=d.languages.SymbolKind.Property,S[v.variable]=d.languages.SymbolKind.Variable,S[v.const]=d.languages.SymbolKind.Variable,S[v.localVariable]=d.languages.SymbolKind.Variable,S[v.variable]=d.languages.SymbolKind.Variable,S[v.function]=d.languages.SymbolKind.Function,S[v.localFunction]=d.languages.SymbolKind.Function;var T=function(t){x(r,t);function r(){return t!==null&&t.apply(this,arguments)||this}return r._convertOptions=function(e){return{ConvertTabsToSpaces:e.insertSpaces,TabSize:e.tabSize,IndentSize:e.tabSize,IndentStyle:N.Smart,NewLineCharacter:`
`,InsertSpaceAfterCommaDelimiter:!0,InsertSpaceAfterSemicolonInForStatements:!0,InsertSpaceBeforeAndAfterBinaryOperators:!0,InsertSpaceAfterKeywordsInControlFlowStatements:!0,InsertSpaceAfterFunctionKeywordForAnonymousFunctions:!0,InsertSpaceAfterOpeningAndBeforeClosingNonemptyParenthesis:!1,InsertSpaceAfterOpeningAndBeforeClosingNonemptyBrackets:!1,InsertSpaceAfterOpeningAndBeforeClosingTemplateStringBraces:!1,PlaceOpenBraceOnNewLineForControlBlocks:!1,PlaceOpenBraceOnNewLineForFunctions:!1}},r.prototype._convertTextChanges=function(e,s){return{text:s.newText,range:this._textSpanToRange(e,s.span)}},r}(C),Z=function(t){x(r,t);function r(){return t!==null&&t.apply(this,arguments)||this}return r.prototype.provideDocumentRangeFormattingEdits=function(e,s,a,n){return w(this,void 0,void 0,function(){var o,l,f,i,u,c=this;return k(this,function(g){switch(g.label){case 0:return o=e.uri,l=e.getOffsetAt({lineNumber:s.startLineNumber,column:s.startColumn}),f=e.getOffsetAt({lineNumber:s.endLineNumber,column:s.endColumn}),[4,this._worker(o)];case 1:return i=g.sent(),[4,i.getFormattingEditsForRange(o.toString(),l,f,T._convertOptions(a))];case 2:return u=g.sent(),!u||e.isDisposed()?[2]:[2,u.map(function(h){return c._convertTextChanges(e,h)})]}})})},r}(T),$=function(t){x(r,t);function r(){return t!==null&&t.apply(this,arguments)||this}return Object.defineProperty(r.prototype,"autoFormatTriggerCharacters",{get:function(){return[";","}",`
`]},enumerable:!1,configurable:!0}),r.prototype.provideOnTypeFormattingEdits=function(e,s,a,n,o){return w(this,void 0,void 0,function(){var l,f,i,u,c=this;return k(this,function(g){switch(g.label){case 0:return l=e.uri,f=e.getOffsetAt(s),[4,this._worker(l)];case 1:return i=g.sent(),[4,i.getFormattingEditsAfterKeystroke(l.toString(),f,a,T._convertOptions(n))];case 2:return u=g.sent(),!u||e.isDisposed()?[2]:[2,u.map(function(h){return c._convertTextChanges(e,h)})]}})})},r}(T),q=function(t){x(r,t);function r(){return t!==null&&t.apply(this,arguments)||this}return r.prototype.provideCodeActions=function(e,s,a,n){return w(this,void 0,void 0,function(){var o,l,f,i,u,c,g,h,m=this;return k(this,function(y){switch(y.label){case 0:return o=e.uri,l=e.getOffsetAt({lineNumber:s.startLineNumber,column:s.startColumn}),f=e.getOffsetAt({lineNumber:s.endLineNumber,column:s.endColumn}),i=T._convertOptions(e.getOptions()),u=a.markers.filter(function(b){return b.code}).map(function(b){return b.code}).map(Number),[4,this._worker(o)];case 1:return c=y.sent(),[4,c.getCodeFixesAtPosition(o.toString(),l,f,u,i)];case 2:return g=y.sent(),!g||e.isDisposed()?[2,{actions:[],dispose:function(){}}]:(h=g.filter(function(b){return b.changes.filter(function(A){return A.isNewFile}).length===0}).map(function(b){return m._tsCodeFixActionToMonacoCodeAction(e,a,b)}),[2,{actions:h,dispose:function(){}}])}})})},r.prototype._tsCodeFixActionToMonacoCodeAction=function(e,s,a){for(var n=[],o=0,l=a.changes;o<l.length;o++)for(var f=l[o],i=0,u=f.textChanges;i<u.length;i++){var c=u[i];n.push({resource:e.uri,edit:{range:this._textSpanToRange(e,c.span),text:c.newText}})}var g={title:a.description,edit:{edits:n},diagnostics:s.markers,kind:"quickfix"};return g},r}(T),ee=function(t){x(r,t);function r(){return t!==null&&t.apply(this,arguments)||this}return r.prototype.provideRenameEdits=function(e,s,a,n){return w(this,void 0,void 0,function(){var o,l,f,i,u,c,g,h,m,y;return k(this,function(b){switch(b.label){case 0:return o=e.uri,l=o.toString(),f=e.getOffsetAt(s),[4,this._worker(o)];case 1:return i=b.sent(),[4,i.getRenameInfo(l,f,{allowRenameOfImportPath:!1})];case 2:if(u=b.sent(),u.canRename===!1)return[2,{edits:[],rejectReason:u.localizedErrorMessage}];if(u.fileToRename!==void 0)throw new Error("Renaming files is not supported.");return[4,i.findRenameLocations(l,f,!1,!1,!1)];case 3:if(c=b.sent(),!c||e.isDisposed())return[2];for(g=[],h=0,m=c;h<m.length;h++)y=m[h],g.push({resource:d.Uri.parse(y.fileName),edit:{range:this._textSpanToRange(e,y.textSpan),text:a}});return[2,{edits:g}]}})})},r}(C),M,I;function te(t){I=K(t,"typescript")}function re(t){M=K(t,"javascript")}function ne(){return new Promise(function(t,r){if(!M)return r("JavaScript not registered!");t(M)})}function ie(){return new Promise(function(t,r){if(!I)return r("TypeScript not registered!");t(I)})}function K(t,r){var e=new j(r,t),s=function(){for(var o=[],l=0;l<arguments.length;l++)o[l]=arguments[l];return e.getLanguageServiceWorker.apply(e,o)},a=new H(s);return d.languages.registerCompletionItemProvider(r,new U(s)),d.languages.registerSignatureHelpProvider(r,new J(s)),d.languages.registerHoverProvider(r,new z(s)),d.languages.registerDocumentHighlightProvider(r,new G(s)),d.languages.registerDefinitionProvider(r,new Q(a,s)),d.languages.registerReferenceProvider(r,new X(a,s)),d.languages.registerDocumentSymbolProvider(r,new Y(s)),d.languages.registerDocumentRangeFormattingEditProvider(r,new Z(s)),d.languages.registerOnTypeFormattingEditProvider(r,new $(s)),d.languages.registerCodeActionProvider(r,new q(s)),d.languages.registerRenameProvider(r,new ee(s)),new B(a,t,r,s),s}}}]);
